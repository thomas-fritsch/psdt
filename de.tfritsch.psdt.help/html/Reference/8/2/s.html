<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This HTML document was generated by David Burch -->
<head>
    <title>Postscript Level 2</title>
</head>
<body>
<h1>Postscript Operators 's'</h1>
<hr>
<a name="save"></a>
<b>save</b>
<pre>- save save</pre>
<p>
creates a snapshot of the current state of the virtual memory (VM)
and returns a save object representing that snapshot.
<p>
Subsequently, this
save object may be presented to restore to reset the VM to this snapshot.
See the restore operator for a detailed description of what is saved in
the snapshot.
<p>
save also saves the current graphics state by pushing a copy
of it on the graphics state stack in a manner similar to <a href="gh.html#gsave">gsave</a>.
This saved graphics state is restored by <a href="qr.html#restore">restore</a>
and <a href="gh.html#grestoreall">grestoreall</a>.
<p>
<b>Example</b>
<pre>
/saveobj save def
      ...arbitrary computation...
saveobj restore                    % Restore saved VM state
</pre>
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="qr.html#restore">restore</a>, <a href="gh.html#gsave">gsave</a>,
<a href="gh.html#grestoreall">grestoreall</a>, <a href="v.html#vmstatus">vmstatus</a>
<hr>
<a name="scale"></a>
<b>scale</b>
<pre>       sx sy scale -
sx sy matrix scale matrix</pre>
<p>
With no matrix operand, scale builds a temporary matrix and concatenates
this matrix with the current transformation matrix (CTM). Precisely, scale
replaces the CTM by S x CTM. The effect of this is to make the x and y units
in the user coordinate system the size of sx and sy units in the former
user coordinate system. The position of the user coordinate origin and the
orientation of the axes are unchanged. If the matrix operand is supplied,
scale replaces the value of matrix by S and pushes the modified matrix back
on the operand stack In this case, scale does not affect the CTM.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="qr.html#rotate">rotate</a>, <a href="t.html#translate">translate</a>,
<a href="c.html#concat">concat</a>
<hr>
<a name="scalefont"></a>
<b>scalefont</b>
<pre>font scale scalefont font'</pre>
<p>
applies the scale factor scale to font, producing a new font' whose characters
are scaled by scale (in both x and y) when they are shown. scalefont first
creates a copy of font, then replaces the new font's FontMatrix entry with
the result of scaling the existing FontMatrix by scale.
It inserts two additional entries, OrigFont and ScaleMatrix, whose purpose
is internal to the implementation. Finally, it returns the result as font'.
Showing characters from the transformed font produces the same results as
showing from the original font after having scaled user space by the factor
scale in both x and y by means of the <a href="#scale">scale</a> operator.
<p>
scalefont is essentially a convenience operator that enables the desired
scale factor to be encapsulated in the font description. Another operator,
makefont, performs more general transformations than simple scaling. See
the description of makefont for more information on how the transformed
font is derived. selectfont combines the effects of findfont and scalefont.
The interpreter keeps track of font dictionaries recently created by scalefont.
<p>
Calling scalefont multiple times with the same font and scale will usually
return the same font' rather than create a new one each time. However, it
is usually more efficient for a PostScript language program to apply scalefont
only once for each font that it needs and to keep track of the resulting
font dictionaries on its own.
<p>
The <a href="m.html#makefont">makefont</a>, scalefont, and <a href="#selectfont">selectfont</a>
operators produce a font dictionary derived from an original font dictionary,
but with the FontMatrix entry altered. The derived font dictionary is allocated
in local or global VM according to whether the original font dictionary
is in local or global VM. This is independent of the current VM allocation
mode.
<p>
<b>Example</b>
<pre>
/Helvetica findfont 12 scalefont setfont
</pre>
<p>
This obtains the standard Helvetica font, which is defined with a 1-unit
line height, and scales it by a factor of 12 in both x and y dimensions.
This produces a 12-unit high font (i.e., a 12-point font in default user
space) whose characters have the same proportions as those in the original
font.
<p>
<b>Errors:</b> <a href="ik.html#invalidfont">invalidfont</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>, <a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="m.html#makefont">makefont</a>, <a href="#setfont">setfont</a>,
<a href="f.html#findfont">findfont</a>, <a href="#selectfont">selectfont</a>
<hr>
<a name="scheck"></a>
<b>scheck</b> LEVEL 2
<pre>any scheck bool</pre>
<p>
has the same semantics as gcheck. This operator is defined for compatibility
with existing Display PostScript applications.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>
<p>
<b>See Also:</b> <a href="gh.html#gcheck">gcheck</a>
<hr>
<a name="search"></a>
<b>search</b>
<pre>string seek search post match pre true (if found)
                   string false (if not found)</pre>
<p>
looks for the first occurrence of the string seek within string and returns
results of this search on the operand stack. The topmost result is a boolean
that indicates if the search succeeded. If search finds a subsequence of
string whose elements are equal to the elements of seek, it splits string
into three segments: pre, the portion of string preceding the match; match,
the portion of string that matches seek; and post, the remainder of string.
It then pushes the string objects post, match, and pre on the operand stack,
followed by the boolean true. All three of these strings are substrings
sharing intervals of the value of the original string. If search does not
find a match, it pushes the original string and the boolean false.
<p>
<b>Examples</b>
<pre>
(abbc) (ab) search  &rArr;  (bc) (ab) ( ) true
(abbc) (bb) search  &rArr;  (c) (bb) (a) true
(abbc) (bc) search  &rArr;  () (bc) (ab) true
(abbc) (B) search   &rArr;  (abbc) false
</pre>
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackoverflow">stackoverflow</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="a.html#anchorsearch">anchorsearch</a>, <a href="t.html#token">token</a>
<hr>
<a name="selectfont"></a>
<b>selectfont</b> LEVEL 2
<pre> key scale selectfont -
key matrix selectfont -</pre>
<p>
obtains a font whose name is key, transforms it according to scale or matrix,
and establishes it as the current font dictionary in the graphics state.
selectfont is equivalent to one of the following, according to whether the
second operand is a number or a matrix:
<pre>
key <a href="f.html#findfont">findfont</a> <a href="#scale">scale</a> <a href="#scalefont">scalefont</a> <a href="#setfont">setfont</a>
key <a href="f.html#findfont">findfont</a> <a href="m.html#matrix">matrix</a> <a href="m.html#makefont">makefont</a> <a href="#setfont">setfont</a>
</pre>
<p>
If the font named by key is already defined in VM, selectfont obtains the
font dictionary directly and does not execute findfont. However, if the
font is not defined, selectfont invokes findfont in the normal way. In the
latter case, it actually executes the name object <a href="f.html#findfont">findfont</a>,
so it uses the current definition of that name in the environment of the
dictionary stack.
On the other hand, redefining <a href="e.html#exch">exch</a>, <a href="#scalefont">scalefont</a>,
<a href="m.html#makefont">makefont</a>, or <a href="#setfont">setfont</a>
would not alter the behavior of selectfont.
<p>
selectfont can give rise to
any of the errors possible for the component operations, including arbitrary
errors from a user-defined <a href="f.html#findfont">findfont</a> procedure.
<p>
<b>Example</b>
<pre>
/Helvetica 10 selectfont
/Helvetica findfont 10 scalefont setfont
</pre>
The two lines of the example have the same effect, but the first one is
almost always more efficient.
<p>
The makefont, scalefont, and selectfont operators
produce a font dictionary derived from an original font dictionary, but
with the FontMatrix entry altered.
The derived font dictionary is allocated in local or global VM according
to whether the original font dictionary is in local or global VM. This is
independent of the current VM allocation mode.
<p>
<b>Errors:</b> <a href="ik.html#invalidfont">invalidfont</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="f.html#findfont">findfont</a>, <a href="m.html#makefont">makefont</a>,
<a href="#scalefont">scalefont</a>, <a href="#setfont">setfont</a>
<hr>
<a name="serialnumber"></a>
<b>serialnumber</b> LEVEL 2
<pre>- serialnumber int</pre>
<p>
returns an integer that purports to represent the specific machine on which
the PostScript interpreter is running. The precise significance of this
number (including any claim of its uniqueness) is product dependent.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="l.html#languagelevel">languagelevel</a>, <a href="p.html#product">product</a>,
<a href="qr.html#revision">revision</a>, <a href="v.html#version">version</a>
<hr>
<a name="setbbox"></a>
<b>setbbox</b>
<pre>llx lly urx ury setbbox -</pre>
<p>
establishes a bounding box for the current path, within which the coordinates of
all path construction operators must fall. Any subsequent attempt to append a
path element with a coordinate lying outside the bounding box will cause a
rangecheck error; subsequent invocations of pathbbox will return a result derived
from the bounding box rather than from the actual path. The bounding box remains
in effect for the lifetime of the current path—that is, until the next newpath
or any operator that resets the path implicitly.
<p>
The operands define a rectangle in user space, oriented with its sides parallel to
the axes of the user coordinate system: llx and lly are the coordinates of the rectangle’s
lower-left corner, urx and ury the upper-right corner. The upper-right coordinate
values must be greater than or equal to the lower-left values, or a rangecheck
error will occur. setbbox transforms the corners of the specified bounding box
from user to device coordinates, then constructs the smallest rectangle in device
space that is oriented parallel to the device space axes and encloses all four corners.
All subsequent bounding box checking is done in device space.
<p>
Note that arcs constructed with the arc, arcn, arct, and arcto operators are converted
to equivalent sequences of curveto operations. The coordinates computed
as control points for these curves must also fall within the bounding box. This
establishes a bounding box for the current path, within which the coordinates
means that the figure of the arc must be entirely enclosed by the bounding box.
On the other hand, the bounding box only constrains the path itself, not the results
of rendering it. For example, stroking the path may place marks outside the
bounding box without causing an error.
<p>
Although the setbbox operator can be used for any path, its main use is in defining
user paths, where it is mandatory (see Section 4.6, "User Paths"). Any user
path procedure passed to one of the user path rendering operators (such as ufill)
must begin with a setbbox operation (optionally preceded by ucache). The
bounding box information enables the user path rendering operator to optimize
execution.
<p>
If setbbox is invoked more than once during the definition of a path, the path’s
effective bounding box is successively enlarged to enclose the union of all of the
individual bounding boxes specified. Such multiple invocation is not permitted
within a user path definition, but could conceivably arise in building up a single
current path by concatenating several user paths with multiple invocations of
uappend.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="p.html#pathbbox">pathbbox</a>
<hr>
<a name="setblackgeneration"></a>
<b>setblackgeneration</b> LEVEL 2
<pre>proc setblackgeneration -</pre>
<p>
sets the black generation function parameter in the graphics state. The
proc operand must be a procedure that can be called with a number in the
range 0.0 to 1.0 (inclusive) on the operand stack and that returns a number
in the same range. This procedure computes the value of the black component
during conversion from DeviceRGB color space to DeviceCMYK.
setblackgeneration sets a graphics state parameter whose effect is device
dependent. It should not be used in a page description that is intended
to be device independent.
Execution of this operator is not permitted in certain circumstances.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="#setundercolorremoval">setundercolorremoval</a>
<hr><a name="setcachedevice"></a>
<b>setcachedevice</b>
<pre>wx wy llx lly urx ury setcachedevice -</pre>
<p>
passes width and bounding box information to the PostScript interpreter’s font
machinery. setcachedevice can be executed only within the context of a
BuildGlyph, BuildChar, or CharStrings procedure for a font or CIDFont. The procedure
must invoke setcachedevice, setcachedevice2, or setcharwidth before executing
graphics operators to define and paint the glyph. setcachedevice requests
the font machinery to transfer the results of those operators both into the font
cache, if possible, and onto the current page.
<p>
The operands to setcachedevice are all numbers interpreted in the glyph coordinate
system (see Section 5.4, "Glyph Metric Information"). wx and wy define the
basic width vector for this glyph—in other words, the normal position of the origin
of the next glyph relative to origin of this one.
<p>
llx and lly are the coordinates of the lower-left corner, and urx and ury the upperright
corner, of the glyph bounding box. The glyph bounding box is the smallest
rectangle, oriented with the glyph coordinate system axes, that completely encloses
all marks placed on the page as a result of executing the glyph’s description.
For a glyph defined as a path, this may be determined by means of the pathbbox
operator. The font machinery needs this information to make decisions about
clipping and caching. The declared bounding box must be correct—in other
words, sufficiently large to enclose the entire glyph. If any marks fall outside this
bounding box, the result is unpredictable.
<p>
setcachedevice installs identical sets of metrics for writing modes 0 and 1, while
setcachedevice2 installs separate metrics.
<p>
After execution of setcachedevice and until the termination of the BuildGlyph,
BuildChar, or CharStrings procedure, invocation of color-setting operators or the
image operator is not allowed; see Section 4.8, "Color Spaces." Note that use of
the imagemask operator is permitted.
<p>
After execution of setcachedevice and until the termination of the BuildGlyph
or BuildChar procedure, execution of color setting operators or image is
not allowed. Note that use of the <a href="ik.html#imagemask">imagemask</a>
operator is permitted.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="#setcachedevice2">setcachedevice2</a>, <a href="#setcharwidth">setcharwidth</a>,
<a href="#setcachelimit">setcachelimit</a>, <a href="c.html#cachestatus">cachestatus</a>
<hr>
<a name="setcachedevice2"></a>
<b>setcachedevice2</b> LEVEL 2
<pre>w0x w0y llx lly urx ury w1x w1y vx vy setcachedevice2 -</pre>
<p>
passes two sets of glyph metrics to the font machinery (see Section 5.4, "Glyph
Metric Information"). w0x and w0y are the distances from the current point to the
new current point when showing text in writing mode 0. llx, lly and urx, ury are the
distances from origin 0 to the lower-left and upper-right corners of the glyph
bounding box. w1x and w1y are the distances from the current point to the new
current point when showing text in writing mode 1. vx and vy are the distances
from origin 0 to origin 1.
<p>
Aside from its interpretation of the operands, setcachedevice2 works the same as
setcachedevice in all respects.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="#setcachedevice">setcachedevice</a>, <a href="#setcharwidth">setcharwidth</a>,
<a href="#setcachelimit">setcachelimit</a>, <a href="c.html#cachestatus">cachestatus</a>
<hr>
<a name="setcachelimit"></a>
<b>setcachelimit</b>
<pre>int setcachelimit -</pre>
<p>
establishes the maximum number of bytes the pixel array (bitmap) of a single
cached glyph may occupy. Any glyph larger than this (according to the glyph
bounding box information passed to setcachedevice) is not saved in the font
cache. Instead, its description is executed every time the glyph is encountered.
setcachelimit affects the decision whether to place new glyphs in the font cache; it
does not disturb any glyphs already in the cache. Making the limit larger allows
larger glyphs to be cached, but may decrease the total number of different glyphs
that can be held in the cache simultaneously. Changing this parameter is appropriate
only in very unusual situations.
<p>
The maximum limit for int is implementation-dependent, representing the total
available size of the font cache (see cachestatus). As a practical matter, int should
not be larger than a small fraction of the total font cache size.
Modifications to the cache limit parameter are subject to save and restore. In an
interpreter that supports multiple contexts, this parameter is maintained separately
for each context.
<p>
The parameter set by setcachelimit is the same as the MaxFontItem user parameter
set by setuserparams (see Appendix C).
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#cachestatus">cachestatus</a>, <a href="#setuserparams">setuserparams</a>
<hr>
<a name="setcacheparams"></a>
<b>setcacheparams</b> LEVEL 2
<pre>mark size lower upper setcacheparams -</pre>
<p>
sets font cache parameters as specified by the integer objects above the topmost
mark on the stack, then removes all operands and the mark object as if by
cleartomark.
<p>
The number of cache parameters is variable. If more operands are supplied to
setcacheparams than are needed, the topmost ones are used and the remainder
ignored. If fewer are supplied than are needed, setcacheparams implicitly inserts
default values between the mark and the first supplied operand.
<p>
The size, lower, and upper parameters set by setcacheparams are the same as the
MaxFontCache system parameter and the MinFontCompress and MaxFontItem
user parameters, respectively (see Appendix C). If a specified value lies outside the
range achievable by the implementation, the nearest achievable value is substituted
with no error indication.
<p>
Changing the font cache size is allowed only in a system administrator job, since it
is equivalent to changing a system parameter. If size is not specified, the font cache
size is unchanged.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#unmatchedmark">unmatchedmark</a>
<p>
<b>See Also:</b> <a href="c.html#currentcacheparams">currentcacheparams</a>,
<a href="#setcachelimit">setcachelimit</a>, <a href="#setsystemparams">setsystemparams</a>,
<a href="#setuserparams">setuserparams</a>
<hr>
<a name="setcharwidth"></a>
<b>setcharwidth</b>
<pre>wx wy setcharwidth -</pre>
<p>
is similar to setcachedevice, but it passes only width information to the PostScript
interpreter’s font machinery and it declares that the glyph being defined is not to
be placed in the font cache.
<p>
setcharwidth is useful in the unusual case of defining glyphs that incorporate two
or more specific opaque colors, such as opaque black and opaque white. Most
glyphs have no inherent color, but are painted with the current color within the
glyph’s outline, leaving the area outside unpainted (transparent).
Another use of setcharwidth is in defining glyphs that intentionally change their
behavior based on the environment in which they execute. Such glyphs must not
be cached, because that would subvert the intended variable behavior.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="#setcachedevice">setcachedevice</a>, <a href="#setcachedevice2">setcachedevice2</a>
<hr>
<a name="setcmykcolor"></a>
<b>setcmykcolor</b> LEVEL 2
<pre>cyan magenta yellow black setcmykcolor -</pre>
<p>
sets the current color space in the graphics state to DeviceCMYK and the current
color to the component values specified by cyan, magenta, yellow, and black. Each
component must be a number in the range 0.0 to 1.0. If any of the operands is
outside this range, the nearest valid value is substituted without error indication.
Color values set by setcmykcolor are not affected by black-generation and undercolor-
removal computations (see Section 7.2.3, "Conversion from DeviceRGB to
DeviceCMYK").
<p>
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="#setcolorspace">setcolorspace</a>, <a href="#setcolor">setcolor</a>,
<a href="c.html#currentcmykcolor">currentcmykcolor</a>
<hr>
<a name="setcolor"></a>
<b>setcolor</b> LEVEL 2
<pre>        comp1 ... compn setcolor -
                pattern setcolor -
comp1 ... compn pattern setcolor -</pre>
<p>
The appropriate form of the operator depends on the current color space. All
color spaces except Pattern use the first form, in which the operands comp1
through compn specify the values of the color components describing the desired
color. The number of components and the valid ranges of their values depend on
the specific characteristics of the color space; see Section 4.8, "Color Spaces." (In
the case of an Indexed color space, the single operand comp1 is actually an index
into the space’s color table rather than a true color component.) If the wrong
number of components is specified, an error will occur, such as stackunderflow or
typecheck. If a component value is outside the valid range, the nearest valid value
will be substituted without error indication.
<p>
The second and third forms of setcolor are used when the current color space is a
Pattern space. In both forms, the pattern operand is a pattern dictionary describing
the pattern to be established as the current color. The values of the dictionary’s
PatternType and PaintType entries determine whether additional operands
are needed:
<ul>
<li>Shading patterns (PatternType 2) or colored tiling patterns (PatternType 1,
PaintType 1) use the second form of the operator, in which the pattern dictionary
is the only operand.
<li>Uncolored tiling patterns (PatternType 1, PaintType 2) use the third form, in
which the dictionary is accompanied by one or more component values in the
pattern’s underlying color space, defining the color in which the pattern is to
be painted.
</ul>
<p>
The setcolorspace operator initializes the current color to a value that depends on
the specific color space selected.
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentcolor">currentcolor</a>, <a href="#setcolorspace">setcolorspace</a>
<hr>
<a name="setcolorrendering"></a>
<b>setcolorrendering</b> LEVEL 2
<pre>dict setcolorrendering -</pre>
<p>
sets the current CIE-based color rendering dictionary (CRD) in the graphics state
to dict. The default CRD is device-dependent (see Section 7.1, "CIE-Based Color
to Device Color").
<p>
Because the effect of the CRD is device-dependent, this operator ordinarily
should not be used in a page description that is intended to be deviceindependent.
However, it is acceptable to use it to establish a CRD that has been
obtained by means of the findcolorrendering operator; this does not compromise
the device independence of the page description, even though the CRD itself is
device-dependent.
<p>
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentcolorrendering">currentcolorrendering</a>
<hr>
<a name="setcolorscreen"></a>
<b>setcolorscreen</b> LEVEL 2
<pre>      redfreq redang redproc
greenfreq greenang greenproc
   bluefreq blueang blueproc
   grayfreq grayang grayproc setcolorscreen -</pre>
<p>
sets the halftone screen parameter in the graphics state (see Section 7.4, "Halftones")
as specified by the operands. setcolorscreen sets independent halftone
screens for the four primary color components of the output device (red, green,
blue, and gray) or their complements (cyan, magenta, yellow, and black); this distinguishes
it from setscreen, which sets the screen identically for all four primary
components.
<p>
In the first form of the operator, the operands define a separate frequency, angle,
and spot function for each component, which are interpreted the same as in the
setscreen operator. The second form substitutes halftone dictionaries in place of
the spot functions. This form sets all the halftone screens for all four components
identically, using the grayfreq, grayang, and grayhalftone operands in the same
manner as setscreen; the first nine operands (redfreq through bluehalftone) are ignored.
In LanguageLevel 3, the behavior of setcolorscreen can be altered by the user
parameters AccurateScreens (see "Type 1 Halftone Dictionaries" on page 487),
HalftoneMode ("Halftone Setting" on page 757), and MaxSuperScreen (Section
7.4.8, "Supercells").
<p>
Because the effect of the halftone screen is device-dependent, setcolorscreen
should not be used in a page description that is intended to be deviceindependent.
Execution of this operator is not permitted in certain circumstances;
see Section 4.8.1, "Types of Color Space."
<p>
<b>Example</b>
<pre>
/sfreq 50 def                    % 50 halftone cells per inch
/sproc { dup mul                 % Dot-screen spot function
         exch dup mul
         add 1
         exch sub
} def
sfreq 75 /sproc load             % 75-degree red (cyan) screen
sfreq 15 /sproc load             % 15-degree green (magenta) screen
sfreq 0 /sproc load              % 0-degree blue (yellow) screen
sfreq 45 /sproc load             % 45-degree gray (black) screen
setcolorscreen
</pre>
This example establishes 50-line dot screens angled at 75 degrees for cyan, 15 degrees
for magenta, 0 degrees for yellow, and 45 degrees for black, which are commonly
used for color printing.
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentcolorscreen">currentcolorscreen</a>,
<a href="#setscreen">setscreen</a>, <a href="#sethalftone">sethalftone</a>
<hr>
<a name="setcolorspace"></a>
<b>setcolorspace</b> LEVEL 2
<pre>array setcolorspace -
 name setcolorspace -</pre>
<p>
sets the current color space in the graphics state. It also initializes the current
color to a value that depends on the specific color space selected. The initial value
of the current color space is DeviceGray.
<p>
In the first form of the operator, the color space is specified by an array of the
form
<pre>
[family param1 ... paramn]
</pre>
where family is the name of the color space family and the parameters
param1 through paramn further describe the space within that family. The number
and meanings of these parameters vary depending on the family; see Section 4.8,
"Color Spaces," for details.
<p>
In the second form, the color space is specified by its family name only. This is allowed
only for those color space families that require no parameters: DeviceGray,
DeviceRGB, DeviceCMYK, and Pattern. Specifying a color space by name is equivalent
to specifying it by a one-element array containing just that name with no
other parameters
<p>
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="qr.html#rangecheck">rangecheck</a>, <a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentcolorspace">currentcolorspace</a>,
<a href="#setcolor">setcolor</a>
<hr>
<a name="setcolortransfer"></a>
<b>setcolortransfer</b> LEVEL 2
<pre>redproc greenproc blueproc grayproc setcolortransfer -</pre>
<p>
sets the transfer function parameter in the graphics state. setcolortransfer specifies
transfer functions for all four primary color components of the output device
(red, green, blue, and gray) or their complements (cyan, magenta, yellow, and
black). Each operand must be a PostScript procedure that is called with a number
in the range 0.0 to 1.0 on the operand stack and will return a number in the same
range.
<p>
These procedures adjust the values of device color components (see Section 7.3,
"Transfer Functions"). A device’s output will be affected only by those transfer
functions corresponding to color components that the device supports. For example,
redproc, greenproc, and blueproc will have no effect on a black-and-white
device, while grayproc will have no effect on an RGB device. On a device whose
ProcessColorModel is DeviceN, none of the transfer functions set by setcolortransfer
have any effect; in this case, all components’ transfer functions must be
specified via TransferFunction entries in a halftone dictionary supplied to
sethalftone.
<p>
Because the effect of the transfer function parameter is device-dependent,
setcolortransfer should not be used in a page description that is intended to be
device-independent. Execution of this operator is not permitted in certain circumstances;
see Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentcolortransfer">currentcolortransfer</a>,
<a href="#settransfer">settransfer</a>
<hr>
<a name="setdash"></a>
<b>setdash</b>
<pre>array offset setdash -</pre>
<p>
sets the dash pattern parameter in the graphics state. This parameter controls the
lines to be drawn by subsequent invocations of stroke and related operators, such
as rectstroke and ustroke. An empty (zero-length) array operand denotes solid,
unbroken lines. If array is not empty, its elements (which must be nonnegative
numbers and not all zero) define the sequence of dashes and gaps constituting the
dash pattern.
<p>
The elements of array alternately specify the length of a dash and the length of a
gap between dashes, expressed in units of the user coordinate system. The stroke
operator uses these elements cyclically; when it reaches the end of the array, it
starts again at the beginning.
<p>
Dashed strokes wrap around curves and corners in the same way as solid strokes.
The ends of each dash are treated with the current line cap, and corners within a
dash are treated with the current line join. stroke takes no measures to coordinate
the dash pattern with features of the path itself; it simply dispenses dashes along
the path in the pattern defined by array.
The offset operand can be thought of as the "phase" of the dash pattern relative to
the start of the path. It is interpreted as a distance into the dash pattern (measured
in user space units) at which to start the pattern. Before beginning to stroke a
path, the stroke operator cycles through the elements of array, adding up distances
and alternating dashes and gaps as usual, but without generating any output.
When the accumulated distance reaches the value specified by offset, it begins
stroking from the starting point of the path, using the dash pattern from the point
that has been reached. Each subpath of a path is treated independently; the dash
pattern is restarted and the offset reapplied at the beginning of each subpath.
<p>
<b>Examples</b>
<pre>
[ ] 0 setdash       % Solid, unbroken lines
[3] 0 setdash       % 3 units on, 3 units off, …
[2] 1 setdash       % 1 on, 2 off, 2 on, 2 off, …
[2 1] 0 setdash     % 2 on, 1 off, 2 on, 1 off, …
[3 5] 6 setdash     % 2 off, 3 on, 5 off, 3 on, 5 off, …
[2 3] 11 setdash    % 1 on, 3 off, 2 on, 3 off, 2 on, …</pre>
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentdash">currentdash</a>, <a href="#stroke">stroke</a>
<hr>
<a name="setdevparams"></a>
<b>setdevparams</b> LEVEL 2
<pre>string dict setdevparams -</pre>
<p>
attempts to set one or more parameters for the device identified by string according
to keys and new values contained in the dictionary dict. string identifies a
named parameter set, which usually but not always corresponds to an input/
output or other device (see Section C.4, "Device Parameters"). The dictionary is
merely a container for key-value pairs; setdevparams reads the information from
the dictionary but does not retain the dictionary itself. Device parameters whose
keys are not mentioned in the dictionary are left unchanged.
<p>
Each parameter is identified by a key, which is always a name object. The value is
usually (but not necessarily) an integer. String values should consist of nonnull
characters; if a null character is present, it will terminate the string. The names of
parameter sets and the names and semantics of the parameters are productdependent.
They are not documented in this book, but rather in the PostScript
Language Reference Supplement and in product-specific documentation.
<p>
Permission to alter device parameters is controlled by a password. The dictionary
may need to contain an entry named Password whose value is a string or integer
equal to the system parameter password (see Section C.1.2, "System Parameters").
If the password is incorrect, an invalidaccess error occurs and
setdevparams does not alter any parameters.
<p>
Some device parameters can be set permanently in nonvolatile storage that survives
restarts of the PostScript interpreter. This capability is implementationdependent.
No error occurs if parameters cannot be stored permanently. For
more details on device parameters, see Appendix C.
<p>
Various errors are possible. Details of error behavior are product-dependent, but
the following behavior is typical:
<ul>
<li>If a parameter name is not known to the implementation, an undefined error
occurs.
<li>If a parameter value is of the wrong type, a typecheck error occurs.
<li>If a numeric parameter value is unreasonable—for instance, a negative integer
for a parameter that must be positive—a rangecheck error occurs.
<li>If a numeric parameter value is reasonable but cannot be achieved by the
implementation, either the nearest achievable value is substituted or a
configurationerror occurs, depending on the device and the parameter.
<li>If a string parameter value exceeds either the general implementation limit on
strings (noted in Appendix B) or an implementation-dependent limit specific
to that parameter, a limitcheck error occurs.
</ul>
<p>
<b>Errors:</b> <a href="c.html#configurationerror">configurationerror</a>,
<a href="ik.html#invalidaccess">invalidaccess</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentdevparams">currentdevparams</a>, <a href="#setsystemparams">setsystemparams</a>,
<a href="#setuserparams">setuserparams</a>
<hr>
<a name="setfileposition"></a>
<b>setfileposition</b> LEVEL 2
<pre>file position setfileposition -</pre>
<p>
repositions an existing open file to a new position so the next read or
write operation will commence at that position. The position operand is
a non-negative integer interpreted as number of bytes from the beginning
of the file. For an output file, setfileposition first performs an implicit
<a href="f.html#flushfile">flushfile</a> . The result of positioning
beyond end-of-file for both reading and writing depends on the behavior
of the underlying file system. Typically, positioning beyond the existing
end-of-file will lengthen the file if it is open for writing and the file's
access permits. The storage appended to the file has unspecified contents.
If lengthening the file is not permitted, an <a href="ik.html#ioerror">ioerror</a>
occurs. Possible causes of an ioerror are: the file object is not valid,
the underlying file is not positionable, the specified position is invalid
for the file, or a device-dependent error condition is detected.
<p>
<b>Errors:</b> <a href="ik.html#ioerror">ioerror</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
, <a href="u.html#undefinedfilename">undefinedfilename</a>
<p>
<b>See Also:</b> <a href="f.html#fileposition">fileposition</a>, <a href="f.html#file">file</a>
<hr>
<a name="setflat"></a>
<b>setflat</b>
<pre>num setflat -</pre>
<p>
sets the flatness parameter in the graphics state to num, which must be a positive
number. This parameter controls the precision with which curved path segments
are rendered on the raster output device by operators such as stroke, fill, and clip.
These operators render curves by approximating them with a series of straight
line segments. Flatness is the error tolerance of this approximation; it is the maximum
allowable distance of any point of the approximation from the corresponding
point on the true curve, measured in output device pixels. The acceptable
range of values is 0.2 to 100.0. If num is outside this range, the nearest valid value
is substituted without error indication.
<p>
The choice of a flatness value is a tradeoff between precision and execution efficiency.
Very small values (less than 1 device pixel) produce very precise curves at
high cost, because enormous numbers of tiny line segments must be generated.
Larger values produce cruder approximations with substantially less computation.
A default value of the flatness parameter is established by the device setup
(Install) procedure for each raster output device. This value is based on the characteristics
of the individual device and is suitable for most applications.
<p>
setflat sets a graphics state parameter whose effect is device-dependent. It should
not be used in a page description that is intended to be device-independent.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentflat">currentflat</a>, <a href="f.html#flattenpath">flattenpath</a>,
<a href="#stroke">stroke</a>, <a href="f.html#fill">fill</a>
<hr>
<a name="setfont"></a>
<b>setfont</b>
<pre>   font setfont -
cidfont setfont -</pre>
<p>
establishes font or cidfont as the font parameter in the graphics state (subsequently
returned by rootfont). This in turn determines the current font or CIDFont (returned
by currentfont)—the font to be used by subsequent glyph operators, such
as show and stringwidth, or the CIDFont to be used by a subsequent glyphshow
operator. The operand must be a valid font or CIDFont dictionary. See
Section 5.1, "Organization and Use of Fonts."
<p>
<b>Example</b>
<pre>
/Helvetica findfont            % Obtain prototype
Helvetica font 10 scalefont    % Scale it to 10-unit size
setfont                        % Establish it as current font
</pre>
<p>
<b>Errors:</b> <a href="ik.html#invalidfont">invalidfont</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentfont">currentfont</a>, <a href="#scalefont">scalefont</a>,
<a href="m.html#makefont">makefont</a>, <a href="f.html#findfont">findfont</a>,
<a href="#selectfont">selectfont</a>
<hr>
<a name="setglobal"></a>
<b>setglobal</b> LEVEL 2
<pre>bool setglobal -</pre>
<p>
sets the VM allocation mode: true denotes global, false denotes local. This
controls the VM region in which the values of new composite objects are
to be allocated. It applies to objects created implicitly by the scanner
and to those created explicitly by PostScript operators. Modifications to
the VM allocation mode are subject to <a href="#save">save</a> and <a href="qr.html#restore">restore</a>.
In a Display PostScript system, which supports multiple execution contexts,
the VM allocation mode is maintained separately for each context. The standard
error handlers in <a href="e.html#errordict">errordict</a> execute false
setglobal, reverting to local VM allocation mode if an error occurs.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentglobal">currentglobal</a>
<hr><a name="setgray"></a>
<b>setgray</b>
<pre>num setgray -</pre>
<p>
sets the current color space in the graphics state to DeviceGray and the current
color to the gray level specified by num. The gray level must be a number in the
range 0.0 to 1.0, with 0.0 denoting black and 1.0 denoting white. If num is outside
this range, the nearest valid value is substituted without error indication.
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentgray">currentgray</a>, <a href="#setcolorspace">setcolorspace</a>,
<a href="#setcolor">setcolor</a>
<hr>
<a name="setgstate"></a>
<b>setgstate</b> LEVEL 2
<pre>gstate setgstate -</pre>
<p>
replaces the current graphics state by the value of the gstate object. This
is a copying operation, so subsequent modifications to the value of gstate
will not affect the current graphics state or vice versa. Note that this
is a wholesale replacement of all components of the graphics state; in particular,
the current clipping path is replaced by the value in <a href="gh.html#gstate">gstate</a>,
not intersected with it.
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="gh.html#gstate">gstate</a>, <a href="c.html#currentgstate">currentgstate</a>,
<a href="gh.html#gsave">gsave</a>, <a href="gh.html#grestore">grestore</a>
<hr><a name="sethalftone"></a>
<b>sethalftone</b> LEVEL 2
<pre>halftone sethalftone -</pre>
<p>
establishes halftone as the halftone parameter in the graphics state. Once
established, the halftone dictionary should be treated as readonly. If the
halftone dictionary's HalftoneType value is out of bounds or is not supported
by the PostScript interpreter, a <a href="qr.html#rangecheck">rangecheck</a>
error occurs. If a required entry is missing or its value is of the wrong
type, a <a href="t.html#typecheck">typecheck</a> error occurs. sethalftone
sets a graphics state parameter whose effect is device dependent. It should
not be used in a page description that is intended to be device independent.
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currenthalftone">currenthalftone</a>, <a href="#setscreen">setscreen</a>,
<a href="#setcolorscreen">setcolorscreen</a>
<hr>
<a name="sethalftonephase"></a>
<b>sethalftonephase</b> DPS
<pre>x y sethalftonephase -</pre>
<p>
sets the halftone phase parameters in the graphics state. x and y
are integers specifying the new halftone phase, interpreted in device space.
sethalftonephase sets a graphics state parameter whose effect is device
dependent. It should not be used in a page description that is intended
to be device independent.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currenthalftonephase">currenthalftonephase</a>
<hr>
<a name="sethsbcolor"></a>
<b>sethsbcolor</b>
<pre>hue saturation brightness sethsbcolor -</pre>
<p>
sets the current color space in the graphics state to DeviceRGB and the current
color to the color described by the parameters hue, saturation, and brightness. Each
parameter must be a number in the range 0.0 to 1.0. If any of the operands is outside
this range, the nearest value is substituted without error indication.
Note that the HSB parameter values supplied to sethsbcolor are immediately converted
into RGB color components. HSB is not a color space in its own right, but
merely an alternate way of specifying color values in the DeviceRGB color space.
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currenthsbcolor">currenthsbcolor</a>, <a href="#setrgbcolor">setrgbcolor</a>,
<a href="#setcolorspace">setcolorspace</a>, <a href="#setcolor">setcolor</a>
<hr>
<a name="setlinecap"></a>
<b>setlinecap</b>
<pre>int setlinecap -</pre>
<p>
sets the line cap parameter in the graphics state to int, which must be
one of the integers 0, 1, or 2. This establishes the shape to be put at
the ends of open subpaths painted by the stroke operator.
<p>
The integers select the following shapes: 
<ol start="0">
  <li>Butt cap. The stroke is squared off at the endpoint of the path. There
is no projection beyond the end of the path. 
  <li>Round cap. A semicircular arc with diameter equal to the line width
is drawn around the endpoint and filled in. 
  <li>Projecting square cap. The stroke continues beyond the endpoint of
the path for a distance equal to half the line width and is squared off.
</ol>
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentlinecap">currentlinecap</a>, <a href="#setlinejoin">setlinejoin</a>,
<a href="#stroke">stroke</a>
<hr>
<a name="setlinejoin"></a>
<b>setlinejoin</b>
<pre>int setlinejoin -</pre>
<p>
sets the line join parameter in the graphics state to int, which must
be one of the integers 0, 1, or 2. This establishes the shape to be put
at corners in paths painted by the stroke operator.
The integers select the following shapes: 
<ol start="0">
  <li>Miter join.
the outer edges of the strokes for the two segments are extended until
they meet at an angle, as in a picture frame. If the segments meet at too
sharp an angle, a bevel join is used instead. This is controlled by the
miter limit parameter established by <a href="#setmiterlimit">setmiterlimit</a>.
  <li>Round join.
A circular arc with diameter equal to the line width is drawn around the
point where the segments meet and is filled in, producing a rounded corner.
stroke draws a full circle at this point. If path segments shorter than
one-half the line width meet at sharp angles, an unintentional &quot;wrong
side&quot; of this circle may appear.
  <li>Bevel join.
The meeting path segments are finished with butt end caps (see <a href="#setlinecap">setlinecap</a>);
then the resulting notch beyond the ends of the segments is filled with
a triangle. Join styles are significant only at points where consecutive
segments of a path connect at an angle. Segments that meet or intersect
fortuitously receive no special treatment. Curved lines are actually rendered
as sequences of straight line segments, and the current line join is applied
to the &quot;corners&quot; between those segments. However, for typical
values of the flatness parameter (see <a href="#setflat">setflat</a>), the
corners are so shallow that the difference between join styles is not visible.
</ol>
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentlinejoin">currentlinejoin</a>, <a href="#setlinecap">setlinecap</a>,
<a href="#stroke">stroke</a>, <a href="#setmiterlimit">setmiterlimit</a>
<hr>
<a name="setlinewidth"></a>
<b>setlinewidth</b>
<pre>num setlinewidth -</pre>
<p>
sets the line width parameter in the graphics state to num. This controls
the thickness of lines rendered by subsequent execution of the stroke operator.
stroke paints all points whose perpendicular distance from the current path
in user space is less than or equal to one-half the absolute value of num.
The effect produced in device space depends on the current transformation
matrix (CTM) in effect at the time of the stroke.
If the CTM specifies scaling by different factors in the x and y dimensions,
the thickness of stroked lines in device space will vary according to their
orientation.
<p>
A line width of zero is acceptable: It is interpreted as the
thinnest line that can be rendered at device resolution-in other words,
one device pixel wide. Some devices cannot reproduce one-pixel lines, and
on high-resolution devices, such lines are nearly invisible.
Since the results of rendering such &quot;zero-width&quot; lines are device
dependent, their use is not recommended.
<p>
The actual line width achieved
by stroke can differ from the requested width by as much as two device pixels,
depending on the positions of lines with respect to the pixel grid. One
can enable automatic stroke adjustment (by <a href="#setstrokeadjust">setstrokeadjust</a>)
to assure uniform line width.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentlinewidth">currentlinewidth</a>, <a href="#stroke">stroke</a>,
<a href="#setstrokeadjust">setstrokeadjust</a>
<hr>
<a name="setmatrix"></a>
<b>setmatrix</b>
<pre>matrix setmatrix -</pre>
<p>
replaces the current transformation matrix (CTM) in the graphics state
by the value of matrix.
This establishes an arbitrary transformation from user space to device space
without reference to the former CTM. Except in device setup procedures,
use of setmatrix should be very rare. PostScript language programs should
ordinarily modify the CTM (by use of the <a href="t.html#translate">translate</a>,
<a href="#scale">scale</a>, <a href="qr.html#rotate">rotate</a>, and
<a href="c.html#concat">concat</a> operators) rather than replace it.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentmatrix">currentmatrix</a>, <a href="d.html#defaultmatrix">defaultmatrix</a>,
<a href="ik.html#initmatrix">initmatrix</a>, <a href="qr.html#rotate">rotate</a>,
<a href="#scale">scale</a>, <a href="t.html#translate">translate</a>,
<a href="c.html#concat">concat</a>
<hr>
<a name="setmiterlimit"></a>
<b>setmiterlimit</b>
<pre>num setmiterlimit -</pre>
<p>
sets the miter limit parameter in the graphics state to num, which must
be a number greater than or equal to 1. The miter limit controls the stroke
operator's treatment of corners when miter joins have been specified (see
<a href="#setlinejoin">setlinejoin</a>).
When path segments connect at a sharp angle, a miter join results in a spike
that extends well beyond the connection point. The purpose of the miter
limit is to cut off such spikes when they become objectionably long.
<p>
At any given corner, the miter length is the distance from the point at which
the inner edges of the stroke intersect to the point at which the outside
edges of the strokes intersect-in other words, the diagonal length of the
miter.
This distance increases as the angle between the segments decreases. If
the ratio of the miter length to the line width exceeds the miter limit
parameter, stroke treats the corner with a bevel join instead of a miter
join.
<p>
The ratio of miter length to line width is directly related to the
angle j between the segments in user space by the formula:<pre>
  miterLength      1
  ----------- = --------
   lineWidth    sin(&phi;/2)
</pre>
<p>
Examples of miter limit values are: 1.415 cuts off miters (converts them
to bevels) at angles less than 90 degrees, 2.0 cuts off miters at angles
less than 60 degrees, and 10.0 cuts off miters at angles less than 11 degrees.
The default value of the miter limit is 10. Setting the miter limit to 1
cuts off miters at all angles so that bevels are always produced even when
miters are specified.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentmiterlimit">currentmiterlimit</a>,
<a href="#stroke">stroke</a>, <a href="#setlinejoin">setlinejoin</a>
<hr>
<a name="setobjectformat"></a>
<b>setobjectformat</b> LEVEL 2
<pre>int setobjectformat -</pre>
<p>
establishes the number representation to be used in binary object sequences written
by subsequent execution of printobject and writeobject. Output produced by
those operators will have a token type that identifies the representation used. The
int operand is one of the following (see Section 3.14, "Binary Encoding Details"):
<ol start="0">
  <li>Disable binary encodings (see below). 
  <li>High-order byte first, IEEE standard real format. 
  <li>Low-order byte first, IEEE standard real format. 
  <li>High-order byte first, native real format. 
  <li>Low-order byte first, native real format. 
</ol>
<p>
Note that the latter four values specify the number representation only for output.
Incoming binary encoded numbers use a representation that is specified as part of
each token (in the initial token type byte).
<p>
The value 0 disables all binary encodings for both input and output. That is, the
PostScript language scanner treats all incoming characters as part of the ASCII encoding,
even if a token starts with a character code in the range 128 to 159. The
printobject and writeobject operators are disabled; executing them will cause an
undefined error. This mode is provided for compatibility with certain existing
PostScript programs.
<p>
The initial value of this parameter is implementation-dependent. A program must
invoke setobjectformat to generate output with a predictable number representation.
<p>
Modifications to the object format parameter are subject to save and restore. In
an interpreter that supports multiple contexts, this parameter is maintained separately
for each context.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentobjectformat">currentobjectformat</a>,
<a href="p.html#printobject">printobject</a>, <a href="w.html#writeobject">writeobject</a>
<hr>
<a name="setoverprint"></a>
<b>setoverprint</b> bool setoverprint - LEVEL 2
<p>
sets the overprint parameter in the graphics state to bool. On output devices capable
of producing separations or of generating composite output in multiple colorants,
this parameter controls whether painting in one separation or colorant
causes the corresponding areas of other separations or colorants to be erased
(false) or left unchanged (true); see Section 4.8.5, "Overprint Control." The default
value is false.
<p>
When overprint is false, the color marked at any position on the page is whatever
was painted there last; this is consistent with the normal opaque painting behavior
of the Adobe imaging model. When overprint is true, the color at a given position
may be a combined result of several painting operations in different colorants.
<p>
Because the effect of the overprint parameter is device-dependent, setoverprint
should not be used in a program that is intended to be device-independent.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentoverprint">currentoverprint</a>, <a href="#setcolorspace">setcolorspace</a>
<hr>
<a name="setpacking"></a>
<b>setpacking</b> LEVEL 2
<pre>bool setpacking -</pre>
<p>
sets the array packing mode to bool. This determines the type of executable arrays
subsequently created by the PostScript language scanner. The value true selects
packed arrays; false selects ordinary arrays.
<p>
The packing mode affects only the creation of procedures by the scanner when it
encounters program text bracketed by { and } during interpretation of an executable
file or string object, or during execution of the token operator. It does not
affect the creation of literal arrays by the [ and ] operators or by the array operator.
Modifications to the array packing mode parameter are subject to save and
restore. In an interpreter that supports multiple contexts, this parameter is maintained
separately for each context.
<p>
<b>Example</b>
<pre>
systemdict /setpacking known
{ /savepacking currentpacking def
  true setpacking
}
if
... Arbitrary procedure definitions ...
systemdict /setpacking known
{savepacking setpacking}
if</pre>
<p>
This example illustrates how to use packed arrays in a way that is compatible with
all LanguageLevels. If the packed array facility is available, the procedures represented
by the arbitrary procedure definitions are defined as packed arrays; otherwise,
they are defined as ordinary arrays. The example is careful to preserve the
array packing mode in effect before its execution.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentpacking">currentpacking</a>, <a href="p.html#packedarray">packedarray</a>
<hr>
<a name="setpagedevice"></a>
<b>setpagedevice</b> LEVEL 2
<pre>dict setpagedevice -</pre>
<p>
modifies the contents of the page device dictionary in the graphics state based on
the contents of the dictionary operand. The operand is a request dictionary containing
requested new values for one or more page device parameters. If valid for
the current page device, these requested values are merged by setpagedevice into
the current page device dictionary. The interpretation of these parameters is described
in Section 6.2, "Page Device Parameters."
<p>
The results of setpagedevice are cumulative. The request dictionary for any given
invocation is not required to include any particular keys; parameter values established
in previous invocations will persist unless explicitly overridden. This
cumulative behavior applies not only to the top-level dictionary, but also recursively
to the subdictionaries InputAttributes, OutputAttributes, and Policies, as
well as to some types of details dictionaries.
<p>
The result of executing setpagedevice is to instantiate a page device dictionary,
perform the equivalent of initgraphics and erasepage, and install the new device
dictionary as an implicit part of the graphics state. The effects of setpagedevice
are subject to save and restore, gsave and grestore, and setgstate.
<p>
setpagedevice can be used by system administrators to establish a default state for
a device by invoking it as part of an unencapsulated job (see Section 3.7.7, "Job
Execution Environment"). This default state persists until the next restart of the
PostScript interpreter. Some PostScript implementations store some of the device
parameters in persistent storage when setpagedevice is executed as part of an unencapsulated
job, making those parameters persist through interpreter restart.
<p>
setpagedevice reinitializes everything in the graphics state except the font parameter,
including parameters not affected by initgraphics. Device-dependent rendering
parameters, such as the halftone screen, transfer functions, flatness tolerance,
and color rendering dictionary, are reset to built-in default values or to ones provided
in the Install procedure of the page device dictionary.
<p>
When the current device in the graphics state is not a page device—for example,
after nulldevice has been invoked or when an interactive display device is active—
setpagedevice creates a new device dictionary from scratch before merging in the
parameters from dict. The contents of this dictionary are implementationdependent.
<p>
If a device’s BeginPage or EndPage procedure invokes setpagedevice, an
undefined error occurs.
<p>
<b>Errors:</b> <a href="c.html#configurationerror">configurationerror</a>,
<a href="t.html#typecheck">typecheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="l.html#limitcheck">limitcheck</a>,
<a href="ik.html#invalidaccess">invalidaccess</a>
<p>
<b>See Also:</b> <a href="c.html#currentpagedevice">currentpagedevice</a>,
<a href="no.html#nulldevice">nulldevice</a>, <a href="gh.html#gsave">gsave</a>,
<a href="gh.html#grestore">grestore</a>
<hr>
<a name="setpattern"></a>
<b>setpattern</b> LEVEL 2
<pre>                pattern setpattern -
comp1 ... compn pattern setpattern -</pre>
<p>
sets the current color space in the graphics state to Pattern and establishes a specified
pattern as the current color. Subsequent painting operations (except image
and colorimage) will use this pattern to paint the required areas of the current
page.
<p>
setpattern is a convenience operator for patterns that performs the equivalent of
setcolorspace and setcolor in a single operation. It is equivalent to the following
code:
<pre>
currentcolorspace 0 get /Pattern ne
{ [/Pattern currentcolorspace] setcolorspace
} if
setcolor
</pre>
Normally, setpattern establishes a Pattern color space whose underlying color
space is the one in effect at the time setpattern is invoked. However, if the current
color space is already a Pattern space, setpattern simply leaves it unchanged.
<p>
setpattern then invokes setcolor to establish the specified pattern as the current
color in the graphics state, passing it the same operand values that were supplied
to setpattern itself. The pattern operand is a pattern dictionary constructed as
specified in Section 4.9, "Patterns," and instantiated by makepattern. The need
for the remaining operands depends on the value of the pattern dictionary’s
PatternType and PaintType entries:
<ul>
<li>Shading patterns (PatternType 2) and colored tiling patterns (PatternType 1,
PaintType 1) define their own colors as part of the pattern itself; there is no
underlying color space. Therefore, the operands comp1 through compn should
not be specified.
<li>Uncolored tiling patterns (PatternType 1, PaintType 2) have no inherent color;
the color must be specified explicitly by the components comp1 through compn
in the underlying color space of the Pattern space. If the Pattern color space
does not have an underlying color space, a rangecheck error occurs. 
</ul>
<p>
Execution of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>, <a href="u.html#undefined">undefined</a>,
<a href="ik.html#invalidid">invalidid</a>
<p>
<b>See Also:</b> <a href="f.html#findresource">findresource</a>, <a href="m.html#makepattern">makepattern</a>,
<a href="#setcolor">setcolor</a>, <a href="#setcolorspace">setcolorspace</a>
<hr>
<a name="setrgbcolor"></a>
<b>setrgbcolor</b>
<pre>red green blue setrgbcolor -</pre>
<p>
sets the color space to DeviceRGB, then sets the current color parameter
in the graphics state to a color described by the parameters red, green,
and blue, each of which must be a number in the range 0 to 1. This establishes
the color subsequently used to paint shapes, such as lines, areas, and characters,
on the current page.
For an explanation of these color parameters. setrgbcolor does not give
a rangecheck for a value outside the range 0 to 1; it substitutes the nearest
legal value.
<p>
Execution of this operator is not permitted in certain circumstances.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentrgbcolor">currentrgbcolor</a>, <a href="#setgray">setgray</a>,
<a href="#sethsbcolor">sethsbcolor</a>, <a href="#setcolorspace">setcolorspace</a>,
<a href="#setcolor">setcolor</a>
<hr>
<a name="setscreen"></a>
<b>setscreen</b>
<pre>frequency angle proc setscreen -
  num1 num2 halftone setscreen -</pre>
<p>
sets the halftone screen parameter in the graphics state (see Section 7.4, "Halftones")
as specified by the operands. setscreen sets the screen identically for all
four primary color components of the output device (red, green, blue, and gray);
this distinguishes it from setcolorscreen, which sets the four screens independently.
<p>
frequency is a number specifying the screen frequency, measured in halftone cells
per inch in device space. angle specifies the number of degrees by which the cells
are rotated counterclockwise with respect to the device coordinate system. (Note,
however, that most output devices have left-handed device spaces; on such devices,
a counterclockwise angle in device space will correspond to a clockwise
angle in default user space and on the physical medium.)
<p>
In the first form of the operator, the proc operand is a PostScript procedure defining
the spot function, which determines the order in which pixels within a halftone
cell are whitened to produce any desired shade of gray. In the second form,
halftone is a halftone dictionary defining the desired screen; in this case, setscreen
performs the equivalent of sethalftone, except that if the dictionary is of type 1,
the values of the frequency and angle operands are copied into the dictionary’s
Frequency and Angle entries, overriding the original values of those entries. (If
the dictionary is read-only, setscreen makes a copy of it before copying the
values.) For halftone dictionaries of types other than 1, the frequency and angle
operands are ignored.
<p>
A rangecheck error occurs if proc returns a result outside the range -1.0 to 1.0. A
limitcheck error occurs if the size of the screen cell exceeds implementation limits.
<p>
In LanguageLevel 3, the behavior of setscreen can be altered by the user
parameters AccurateScreens (see "Type 1 Halftone Dictionaries" on page 487),
HalftoneMode ("Halftone Setting" on page 757), and MaxSuperScreen
(Section 7.4.8, "Supercells").
<p>
Because the effect of the halftone screen is device-dependent, setscreen should
not be used in a page description that is intended to be device-independent. Execution
of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentscreen">currentscreen</a>, <a href="#sethalftone">sethalftone</a>
<hr>
<a name="setshared"></a>
<b>setshared</b> LEVEL 2
<pre>bool setshared -</pre>
<p>
has the same semantics as setglobal. This operator is defined for compatibility
with existing Display PostScript applications.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="#setglobal">setglobal</a>
<hr>
<a name="setstrokeadjust"></a>
<b>setstrokeadjust</b> LEVEL 2
<pre>bool setstrokeadjust -</pre>
<p>
sets the stroke adjustment parameter in the graphics state to bool. This parameter
controls whether automatic stroke adjustment will be performed during subsequent
invocations of stroke and related operators, including strokepath (see
Section 7.5.2, "Automatic Stroke Adjustment").
<p>
The initial value of the stroke adjustment parameter is device-dependent; typically
it is true for displays and false for printers. It is set to false when a font’s
BuildChar, BuildGlyph, or CharStrings procedure is called, but the procedure can
change it. It is not altered by initgraphics.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentstrokeadjust">currentstrokeadjust</a>,
<a href="#stroke">stroke</a>
<hr>
<a name="setsystemparams"></a>
<b>setsystemparams</b> LEVEL 2
<pre>dict setsystemparams -</pre>
<p>
attempts to set one or more system parameters whose keys and new values are
contained in the dictionary dict. The dictionary is merely a container for key-value
pairs; setsystemparams reads the information from the dictionary but does not
retain the dictionary itself. System parameters whose keys are not mentioned in
the dictionary are left unchanged.
<p>
Each parameter is identified by a key, which is always a name object. If the named
system parameter does not exist in the implementation, it is ignored. If a specified
numeric value is not achievable by the implementation, the nearest achievable
value is substituted without error indication.
<p>
String values should consist of nonnull characters; if a null character is present, it
will terminate the string. String-valued parameters may be subject not only to the
general implementation limit on strings (noted in Appendix B), but also to
implementation-dependent limits specific to certain parameters. If either limit is
exceeded, a limitcheck error occurs.
<p>
The names of system parameters and details of their semantics are given in
Appendix C. Additional parameters are described in the PostScript Language Reference
Supplement and in product-specific documentation. Some user parameters
have default values that can be specified as system parameters with the same
names.
<p>
Permission to alter system parameters is controlled by a password. The dictionary
usually must contain an entry named Password whose value is a string or integer
equal to the system parameter password (see Section C.1.2, "System Parameters").
If the password is incorrect, an invalidaccess error occurs and
setsystemparams does not alter any parameters.
<p>
Some system parameters can be set permanently in nonvolatile storage that survives
restarts of the PostScript interpreter. This capability is implementationdependent.
No error occurs if parameters cannot be stored permanently.
<p>
<b>Example</b><pre>
&lt;&lt;
  /MaxFontCache 500000
  /MaxFontItem 7500
  /Password (xxxx)
&gt;&gt; setsystemparams
</pre>
<p>
This attempts to set the MaxFontCache system parameter to 500000 and to
set the default value of the MaxFontItem user parameter to 7500.
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentsystemparams">currentsystemparams</a>,
<a href="#setuserparams">setuserparams</a>, <a href="#setdevparams">setdevparams</a>
<hr>
<a name="settransfer"></a>
<b>settransfer</b>
<pre>proc settransfer -</pre>
<p>
sets the transfer function parameter in the graphics state to proc (see Section 7.3,
"Transfer Functions"). A transfer function is a procedure that adjusts the value of
a color component to compensate for nonlinear response in an output device and
in the human eye. The procedure is called with a number in the range 0.0 to 1.0
on the operand stack and must return a number in the same range. settransfer
sets the transfer function identically for all four primary color components of the
output device (red, green, blue, and gray); this distinguishes it from setcolortransfer,
which sets the four transfer functions independently.
<p>
Because the effect of the transfer function is device-dependent settransfer should
not be used in a page description that is intended to be device-independent. Execution
of this operator is not permitted in certain circumstances; see
Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currenttransfer">currenttransfer</a>, <a href="#setcolortransfer">setcolortransfer</a>,
<a href="#sethalftone">sethalftone</a>
<hr>
<a name="setucacheparams"></a>
<b>setucacheparams</b> LEVEL 2
<pre>mark blimit setucacheparams -</pre>
<p>
sets user path cache parameters as specified by the integer objects above the topmost
mark on the stack, then removes all operands and the mark object itself, as if
by cleartomark.
<p>
The number of cache parameters is variable. If more operands are supplied than
are needed, the topmost ones are used and the remainder ignored. If too few are
supplied, setucacheparams implicitly inserts default values between the mark and
the first supplied operand.
<p>
blimit specifies the maximum number of bytes that can be occupied by the reduced
representation of a single path in the user path cache. Any reduced path
larger than this limit is not saved in the cache. Changing blimit does not disturb
any paths that are already in the cache. A blimit value that is too large is automatically
reduced to the maximum permissible value without error indication.
<p>
Modifications to the cache limit parameter are subject to save and restore. In an
interpreter that supports multiple contexts, this parameter is maintained separately
for each context.
<p>
The parameter that setucacheparams sets is the same as the MaxUPathItem user
parameter set by setuserparams (see Appendix C).
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#unmatchedmark">unmatchedmark</a>
<p>
<b>See Also:</b> <a href="u.html#ucachestatus">ucachestatus</a>, <a href="#setuserparams">setuserparams</a>
<hr>
<a name="setundercolorremoval"></a>
<b>setundercolorremoval</b> LEVEL 2
<pre>proc setundercolorremoval -</pre>
<p>
sets the undercolor-removal function in the graphics state to proc. The value of this
parameter is a procedure that computes the amount by which to reduce the cyan,
magenta, and yellow color components in order to compensate for black generation
during the conversion of color values from the DeviceRGB color space to
DeviceCMYK (see Section 7.2.3, "Conversion from DeviceRGB to DeviceCMYK").
The procedure is called with a number in the range 0.0 to 1.0 on the operand stack
and must return a number in the range -1.0 to +1.0. Negative result values
increase the levels of the cyan, magenta, and yellow color components; positive
values decrease them.
<p>
Because the effect of the undercolor-removal function is device-dependent,
setundercolorremoval should not be used in a page description that is intended to
be device-independent. Execution of this operator is not permitted in certain circumstances;
see Section 4.8.1, "Types of Color Space."
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefined">undefined</a>
<p>
<b>See Also:</b> <a href="c.html#currentundercolorremoval">currentundercolorremoval</a>,
<a href="#setblackgeneration">setblackgeneration</a>
<hr>
<a name="setuserparams"></a>
<b>setuserparams</b> LEVEL 2
<pre>dict setuserparams -</pre>
<p>
attempts to set one or more user parameters whose keys and new values are contained
in the dictionary dict. The dictionary is merely a container for key-value
pairs; setuserparams reads the information from the dictionary but does not retain
the dictionary itself. User parameters whose keys are not mentioned in the
dictionary are left unchanged.
<p>
Each parameter is identified by a key, which is always a name object. If the named
user parameter does not exist in the implementation, it is ignored. If a specified
numeric value is not achievable by the implementation, the nearest achievable
value is substituted without error indication.
<p>
String values should consist of nonnull characters; if a null character is present, it
will terminate the string. String-valued parameters may be subject not only to the
general implementation limit on strings (noted in Appendix B) but also to
implementation-dependent limits specific to certain parameters. If either limit is
exceeded, a limitcheck error occurs.
<p>
The names of user parameters and details of their semantics are given in
Appendix C. Additional parameters are described in the PostScript Language Reference
Supplement and in product-specific documentation. Some user parameters
have default values that are system parameters with the same names. These defaults
can be set by setsystemparams.
<p>
User parameters, unlike system parameters, can be set without supplying a password.
Alterations to user parameters are subject to save and restore. In an interpreter
that supports multiple execution contexts, user parameters are maintained
separately for each context.
<p>
<b>Example</b>
<pre>
&lt;&lt; /MaxFontItem 7500 &gt;&gt; setuserparams
</pre>
This example attempts to set the MaxFontItem user parameter to 7500.
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#currentuserparams">currentuserparams</a>,
<a href="#setsystemparams">setsystemparams</a>, <a href="#setdevparams">setdevparams</a>
<hr>
<a name="setvmthreshold"></a>
<b>setvmthreshold</b> LEVEL 2
<pre>int setvmthreshold -</pre>
<p>
sets the allocation threshold used to trigger garbage collection. If int is less than the
implementation-dependent minimum value, the threshold is set to that minimum
value. If int is greater than the implementation-dependent maximum value, the
threshold is set to that maximum value. If int is -1, the threshold is set to the
implementation-dependent default value. All other negative values of int result in
a rangecheck error.
<p>
Modifications to the allocation threshold parameter are subject to save and
restore. In an interpreter that supports multiple contexts, this parameter is maintained
separately for each context.
<p>
The parameter specified by setvmthreshold is the same as the VMThreshold user
parameter set by setuserparams (see Appendix C).
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>
<p>
<b>See Also:</b> <a href="#setuserparams">setuserparams</a>
<hr>
<a name="shareddict"></a>
<b>shareddict</b> LEVEL 2
<pre>- shareddict dict</pre>
<p>
is the same dictionary as globaldict. The name shareddict is defined for compatibility
with earlier PostScript interpreter implementations.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="gh.html#globaldict">globaldict</a>
<hr>
<a name="SharedFontDirectory"></a>
<b>SharedFontDirectory</b> LEVEL 2
<pre>- SharedFontDirectory dict</pre>
<p>
is the same dictionary as GlobalFontDirectory. The name SharedFontDirectory is
defined for compatibility with earlier PostScript interpreter implementations.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="gh.html#GlobalFontDirectory">GlobalFontDirectory</a>
<hr>
<a name="show"></a>
<b>show</b>
<pre>string show -</pre>
<p>
paints glyphs for the characters identified by the elements of string on the current
page starting at the current point, using the font face, size, and orientation specified
by the current font (as returned by currentfont). The spacing from each glyph
to the next is determined by the glyph’s width, which is an (x, y) displacement
that is part of the glyph description. When it is finished, show adjusts the current
point in the graphics state by the sum of the widths of all the glyphs shown. show
requires that the current point initially be defined (for example, by moveto);
otherwise, a nocurrentpoint error occurs.
<p>
If a character code would index beyond the end of the font’s Encoding array, or if
the character mapping algorithm goes out of bounds in other ways, a rangecheck
error occurs.
<p>
See Chapter 5 for complete information about the definition, manipulation, and
rendition of fonts.
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="ik.html#invalidfont">invalidfont</a>,
<a href="no.html#nocurrentpoint">nocurrentpoint</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="a.html#ashow">ashow</a>, <a href="a.html#awidthshow">awidthshow</a>,
<a href="w.html#widthshow">widthshow</a>, <a href="ik.html#kshow">kshow</a>,
<a href="c.html#cshow">cshow</a>, <a href="xy.html#xshow">xshow</a>,
<a href="xy.html#yshow">yshow</a>, <a href="xy.html#xyshow">xyshow</a>,
<a href="c.html#charpath">charpath</a>, <a href="m.html#moveto">moveto</a>,
<a href="#setfont">setfont</a>
<hr>
<a name="showpage"></a>
<b>showpage</b>
<pre>- showpage -</pre>
<p>
ransmits the contents of the current page to the current output device, causing
any marks painted on the page to be rendered on the output medium. showpage
then erases the current page and reinitializes the graphics state in preparation for
composing the next page. (The actions of showpage may be modified by the
EndPage procedure, as discussed below.)
<p>
Whether or not the current device is a page device, the precise manner in which
the current page is transmitted is device-dependent. For certain devices (such as
displays), no action is required, because the current page is visible while it is being
composed.
<p>
If the current device is a page device that was installed by setpagedevice
(LanguageLevel 2), the precise behavior of showpage is determined by the values
of parameters in the page device dictionary (see Sections 6.1.1, "Page Device Dictionary,"
and 6.2, "Page Device Parameters"). Parameters affecting the behavior
of showpage include NumCopies, Collate, Duplex, and perhaps others as well.
<p>
The main actions of showpage are as follows:
<ol>
<li>Executes the EndPage procedure in the page device dictionary, passing an integer
page count on the operand stack along with a reason code indicating that
the procedure was called from showpage; see Section 6.2.6, "Device Initialization
and Page Setup," for more information.
<li>If the boolean result returned by the EndPage procedure is true, transmits the
page’s contents to the current output device and performs the equivalent of an
erasepage operation, clearing the contents of raster memory in preparation
for the next page. If the EndPage procedure returns false, showpage skips this
step.
<li>Performs the equivalent of an initgraphics operation, reinitializing the graphics
state for the next page.
<li>Executes the BeginPage procedure in the page device dictionary, passing an
integer page count on the operand stack. 
</ol>
<p>
If the BeginPage or EndPage procedure invokes showpage, an undefined error
occurs.
<p>
For a device that produces output on a physical medium such as paper, showpage
can optionally transmit multiple copies of the page in step 2 above. In Language-
Level 2 or 3, the page device parameter NumCopies specifies the number of copies
to be transmitted. In LanguageLevel 1 (or in higher LanguageLevels if NumCopies
is null), the number of copies is given by the value associated with the name
#copies in the naming environment defined by the current dictionary stack. (The
default value of #copies is 1, defined in userdict.) For example, the code
<pre>
/#copies 5 def showpage
</pre>
prints five copies of the current page, then erases the current page and reinitializes
the graphics state.
<p>
<b>Errors:</b> (none)
<p>
<b>See Also:</b> <a href="c.html#copypage">copypage</a>, <a href="e.html#erasepage">erasepage</a>,
<a href="#setpagedevice">setpagedevice</a>
<hr>
<a name="sin"></a>
<b>sin</b>
<pre>angle sin real</pre>
<p>
returns the sine of angle, which is interpreted as an angle in degrees.
The result is a real.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="c.html#cos">cos</a>, <a href="a.html#atan">atan</a>
<hr>
<a name="sqrt"></a>
<b>sqrt</b>
<pre>num sqrt real</pre>
<p>
returns the square root of num, which must be a non-negative number. The
result is a real.
<p>
<b>Errors:</b> <a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="e.html#exp">exp</a>
<hr>
<a name="srand"></a>
<b>srand</b>
<pre>int srand -</pre>
<p>
initializes the random number generator with the seed int, which may be
any integer value. Executing srand with a particular value causes subsequent
invocations of rand to generate a reproducible sequence of results.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="qr.html#rand">rand</a>, <a href="qr.html#rrand">rrand</a>
<hr>
<a name="stack"></a>
<b>stack</b>
<pre>any1 ... anyn stack any1 ... anyn</pre>
<p>
writes text representations of every object on the stack to the
standard output file, but leaves the stack unchanged. stack applies the
<a href="@.html#equals">=</a> operator to each element of the stack,
starting with the topmost element. See the <a href="@.html#equals">=</a>
operator for a description of its effects.
<p>
<b>Errors:</b> (none)
<p>
<b>See Also:</b> <a href="p.html#pstack">pstack</a>, <a href="@.html#equals">=</a>,
<a href="@.html#twoequals">==</a>, <a href="c.html#count">count</a>
<hr>
<a name="stackoverflow"></a>
<b>stackoverflow</b> (error)
<p>
The operand stack has grown too large. Too many objects have been pushed
on the stack and not popped off. Before invoking this error, the interpreter
creates an array containing all elements of the operand stack (stored as
if by <a href="a.html#astore">astore</a>), resets the operand stack
to empty, and pushes the array on the operand stack.
<hr>
<a name="stackunderflow"></a><b>stackunderflow</b> (error)
<p>
An attempt has been made to remove an object from the operand stack when
it is empty. This usually occurs because some operator did not have all
of its required operands on the stack.
<hr>
<a name="StandardEncoding"></a>
<b>StandardEncoding</b>
<pre>- StandardEncoding array</pre>
<p>
pushes the standard encoding vector on the operand stack. This is a 256-element
literal array object, indexed by character codes, whose values are the character
names for those codes. For an explanation of encoding vectors. StandardEncoding
is not an operator; it is a name in <a href="#systemdict">systemdict</a>
associated with the array object. StandardEncoding is the Adobe standard
encoding vector used by most Roman text fonts, but not by special fonts,
such as Symbol. A new Roman text font having no unusual encoding requirements
should specify its Encoding entry to be the value of StandardEncoding rather
than define its own private array.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="ik.html#ISOLatin1Encoding">ISOLatin1Encoding</a>,
<a href="f.html#findencoding">findencoding</a>
<hr>
<a name="start"></a>
<b>start</b>
<pre>- start -</pre>
<p>
is executed by the PostScript interpreter when it starts up. After setting up the
virtual memory (restoring it from a file, if appropriate), the interpreter executes
the name start in the context of the default dictionary stack (systemdict,
globaldict, and userdict). The procedure associated with the name start is expected
to provide whatever top-level control is required—for example, for receiving
page descriptions, interacting with a user, or recovering from errors. The precise
definition of start depends on the environment in which the PostScript interpreter
is operating. It is not of any interest to ordinary PostScript programs and the
effect of executing it explicitly is undefined.
<p>
<b>Errors:</b> (none)
<p>
<b>See Also:</b> <a href="qr.html#quit">quit</a>
<hr>
<a name="startjob"></a>
<b>startjob</b> LEVEL 2
<pre>bool password startjob bool</pre>
<p>
conditionally starts a new job whose execution may alter the initial virtual memory
for subsequent jobs (see Section 3.7.7, "Job Execution Environment"). bool1
specifies whether the new job’s side effects are to be persistent.
The behavior of startjob depends on whether the following three conditions are
true:
<ul>
<li>The current execution context supports job encapsulation-in other
words, is under the control of a job server.
<li>The password is correct-in other words, matches the StartJobPassword
system parameter.
<li>The current level of save nesting is not any deeper than it was at
the time the current job started.
</ul>
If all three conditions are satisfied, startjob performs the following actions:
<ol>
<li>Ends the current job&mdash;in other words, resets the stacks and, if the current job
was encapsulated, performs a restore operation.
<li>Begins a new job. If bool1 is true, the usual save operation at the beginning of
the job is omitted, enabling the new job to make persistent alterations to the
initial VM. If bool1 is false, the usual save operation is performed, encapsulating
the new job.
<li>Returns true on the operand stack. 
</ol>
<p>
If any of the three conditions is not satisfied, startjob pushes false on the operand
stack and has no other effect.
<p>
password is a string that authorizes switching between encapsulated and unencapsulated
jobs, as well as between an ordinary encapsulated job and a system administrator
job. If password is an integer, it is first converted to a string, as if by the cvs
operator. It is compared to the StartJobPassword and SystemParamsPassword
system parameters; see Section C.3.1, "Passwords," for details.
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="e.html#exitserver">exitserver</a>, <a href="#setsystemparams">setsystemparams</a>,
<a href="#save">save</a>, <a href="qr.html#restore">restore</a>
<hr>
<a name="status"></a>
<b>status</b>
<pre>  file status bool
string status pages bytes referenced created true   (if found)
              false                                 (if not found)>
</pre>
<p>
If the operand is a file object, status returns true if it is still valid
(i.e., is associated with an open file), false otherwise. If the operand
is a string, status treats it as a file name according to the conventions
of &quot;Named Files.&quot; If there is a file by that name, status pushes
four integers of status information followed by the value true; otherwise,
it pushes false. The four integer values are: 
<dl>
<dt>pages<dd>The storage space occupied by the file, in implementationdependent
units. 
<dt>bytes<dd>The length of the file in bytes.
<dt>referenced<dd>The date and time the file was last referenced for reading or writing.
This value is interpreted according to the conventions of the
underlying operating system. The only assumption that a program
can make is that larger values indicate later times.
<dt>created<dd>The date and time the contents of the file were created.
or writing. 
</dl>
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="#stackoverflow">stackoverflow</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="f.html#file">file</a>, <a href="c.html#closefile">closefile</a>,
<a href="f.html#filenameforall">filenameforall</a>
<hr>
<a name="statusdict"></a>
<b>statusdict</b>
<pre>- statusdict dict</pre>
<p>
pushes a product-dependent dictionary on the operand stack. statusdict is
not an operator; it is a name associated with the dictionary in systemdict.
The statusdict dictionary is in local VM and is writable.
<p>
statusdict contains
product-dependent operators and other data whose names and values vary from
product to product, and sometimes from one version of a product to another.
Information in statusdict is associated with unique features of a product
that cannot be accessed in any standard way.
The contents of statusdict are not documented here, but in product-specific
documentation.
<p>
In Level 1 implementations, statusdict includes operators
to select print-engine features, to set communication parameters, and to
control other aspects of the interpreter's operating environment. In Level
2, most of these functions have been subsumed by standard operators, such
as <a href="#setpagedevice">setpagedevice</a>, <a href="#setdevparams">setdevparams</a>,
and <a href="#setsystemparams">setsystemparams</a>.
<p>
statusdict is not necessarily
defined in all products. Any reference to statusdict in a PostScript language
program impairs the portability of that program.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>, <a href="u.html#undefined">undefined</a>
<hr>
<a name="stop"></a>
<b>stop</b>
<pre>- stop -</pre>
<p>
terminates execution of the innermost, dynamically enclosing instance
of a stopped context, without regard to lexical relationship.
A stopped context is a procedure or other executable object invoked by the
stopped operator. stop pops the execution stack down to the level of the
stopped operator. The interpreter then pushes the boolean true on the operand
stack and resumes execution at the next object in normal sequence after
the stopped. It thus appears that stopped returned the value true, whereas
it normally returns false.
<p>
stop does not affect the operand or dictionary stacks.
Any objects pushed on those stacks during the execution of the stopped context
remain after the context is terminated. If stop is executed when there is
no enclosing stopped context, the interpreter prints an error message and
executes the built-in operator <a href="qr.html#quit">quit</a>. This
never occurs during execution of ordinary user programs.
<p>
<b>Errors:</b> (none)
<p>
<b>See Also:</b> <a href="#stopped">stopped</a>, <a href="e.html#exit">exit</a>
<hr>
<a name="stopped"></a>
<b>stopped</b>
<pre>any stopped bool</pre>
<p>
executes any, which is typically, but not necessarily, a procedure, executable
file, or executable string object. If any runs to completion normally, stopped
returns false on the operand stack.
If any terminates prematurely as a result of executing stop, stopped returns
true on the operand stack. Regardless of the outcome, the interpreter resumes
execution at the next object in normal sequence after stopped.
<p>
This mechanism provides an effective way for a PostScript language program
to &quot;catch&quot; errors or other premature terminations, retain control,
and perhaps perform its own error recovery.
<p>
<b>Example</b>
<pre>
{ ... } stopped
  {handleerror}
if
</pre>
If execution of the procedure {...} causes an error,
the default error-reporting procedure is invoked (by handleerror).
In any event, normal execution continues at the token following the if.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>
<p>
<b>See Also:</b> <a href="#stop">stop</a> <a href="#store">store</a> key value
<hr>
<a name="store"></a>
<b>store</b>
<pre>key value store -</pre>
<p>
searches for key in each dictionary on the dictionary stack, starting
with the topmost (current) dictionary. If key is found in some dictionary,
store replaces its value by the value operand. If key is not found in any
dictionary on the dictionary stack, store creates a new entry with key and
value in the current dictionary. If the chosen dictionary is in global VM
and value is a composite object whose value is in local VM, an <a href="ik.html#invalidaccess">invalidaccess</a>
error occurs.
<p>
<b>Example</b>
<pre>
/abc 123 store

/abc where { } {currentdict} ifelse
/abc 123 put
</pre>
The two code fragments above have the same effect.
<p>
<b>Errors:</b> <a href="d.html#dictfull">dictfull</a>, <a href="ik.html#invalidaccess">invalidaccess</a>,
<a href="l.html#limitcheck">limitcheck</a>, <a href="#stackunderflow">stackunderflow</a>
<p>
<b>See Also:</b> <a href="d.html#def">def</a>, <a href="p.html#put">put</a>,
<a href="w.html#where">where</a>, <a href="l.html#load">load</a>
<hr><a name="string"></a>
<b>string</b>
<pre>int string string</pre>
<p>
creates a string of length int, each of whose elements is initialized with
the integer 0, and pushes this string on the operand stack.
The int operand must be a non-negative integer not greater than the maximum
allowable string length . The string is allocated in local or global VM
according to the current VM allocation mode.
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>, <a href="qr.html#rangecheck">rangecheck</a>,
<a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="v.html#VMerror">VMerror</a>
<p>
<b>See Also:</b> <a href="l.html#length">length</a>, <a href="t.html#type">type</a>
<hr>
<a name="stringwidth"></a>
<b>stringwidth</b>
<pre>string stringwidth wx wy</pre>
<p>
calculates the change in the current point that would occur if string were
given as the operand to show with the current font. wx and wy are computed
by adding together the width vectors of all the individual characters in
string and converting the result to user space.
They form a distance vector in x and y describing the width of the entire
string in user space.
<p>
To obtain the character widths, stringwidth may execute
the descriptions of one or more of the characters in the current font and
may cause the results to be placed in the font cache.
However, stringwidth prevents the graphics operators that are executed from
painting anything into the current page.
<p>
Note that the &quot;width&quot;
of a string is defined as movement of the current point. It has nothing
to do with the dimensions of the character outlines (see <a href="c.html#charpath">charpath</a>
and <a href="p.html#pathbbox">pathbbox</a>).
<p>
<b>Errors:</b> <a href="ik.html#invalidaccess">invalidaccess</a>, <a href="ik.html#invalidfont">invalidfont</a>,
<a href="qr.html#rangecheck">rangecheck</a>, <a href="#stackunderflow">stackunderflow</a>,
<a href="t.html#typecheck">typecheck</a>
<p>
<b>See Also:</b> <a href="#show">show</a>, <a href="#setfont">setfont</a>
<hr>
<a name="stroke"></a>
<b>stroke</b>
<pre>- stroke -</pre>
<p>
paints a line centered on the current path, with sides parallel to the path segments.
The line’s graphical properties are defined by various parameters of the graphics
state. Its thickness is determined by the current line width parameter (see
setlinewidth) and its color by the current color (see setcolor). The joints between
connected path segments and the ends of open subpaths are painted with the current
line join (see setlinejoin) and the current line cap (see setlinecap), respectively.
The line is either solid or broken according to the dash pattern established by
setdash. Uniform stroke width can be ensured by enabling automatic stroke adjustment
(see setstrokeadjust). All of these graphics state parameters are consulted
at the time stroke is executed; their values during the time the path is being
constructed are irrelevant.
<p>
If a subpath is degenerate (consists of a single-point closed path or of two or more
points at the same coordinates), stroke paints it only if round line caps have been
specified, producing a filled circle centered at the single point. If butt or projecting
square line caps have been specified, stroke produces no output, because the
orientation of the caps would be indeterminate. A subpath consisting of a singlepoint
open path produces no output.
<p>
After painting the current path, stroke clears it with an implicit newpath operation.
To preserve the current path across a stroke operation, use the sequence
<pre>
gsave
  stroke
grestore
</pre>
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>
<p>
<b>See Also:</b> <a href="#setlinewidth">setlinewidth</a>, <a href="#setlinejoin">setlinejoin</a>,
<a href="#setmiterlimit">setmiterlimit</a>, <a href="#setlinecap">setlinecap</a>,
<a href="#setdash">setdash</a>, <a href="#setstrokeadjust">setstrokeadjust</a>,
<a href="u.html#ustroke">ustroke</a>
<hr>
<a name="strokepath"></a>
<b>strokepath</b>
<pre>- strokepath -</pre>
<p>
replaces the current path with one enclosing the shape that would result
if the stroke operator were applied to the current path. The path resulting
from strokepath is suitable as the implicit operand to fill, clip, or pathbbox.
In general, this path is not suitable for stroke, as it may contain interior
segments or disconnected subpaths produced by strokepath's stroke to outline
conversion process.
<p>
<b>Errors:</b> <a href="l.html#limitcheck">limitcheck</a>
<p>
<b>See Also:</b> <a href="f.html#fill">fill</a>, <a href="c.html#clip">clip</a>,
<a href="#stroke">stroke</a>, <a href="p.html#pathbbox">pathbbox</a>,
<a href="c.html#charpath">charpath</a>
<hr>
<a name="sub"></a>
<b>sub</b>
<pre>num1 num2 sub difference</pre>
<p>
difference returns the result of subtracting num2 from num1. If both operands
are integers and the result is within integer range, the result is an integer.
Otherwise, the result is a real.
<p>
<b>Errors:</b> <a href="#stackunderflow">stackunderflow</a>, <a href="t.html#typecheck">typecheck</a>,
<a href="u.html#undefinedresult">undefinedresult</a>
<p>
<b>See Also:</b> <a href="a.html#add">add</a>, <a href="d.html#div">div</a>,
<a href="m.html#mul">mul</a>, <a href="ik.html#idiv">idiv</a>, <a href="m.html#mod">mod</a>
<hr>
<a name="syntaxerror"></a>
<b>syntaxerror</b> (error)
<p>
The scanner has encountered program text that does not conform to the PostScript
language syntax rules. This can occur either during interpretation of an
executable file or string object, or during explicit invocation of the token
operator. Because the syntax of the PostScript language is simple, the set
of possible causes for a syntaxerror is very small: 
<ul>
  <li>An opening string or procedure bracket &mdash;(, &lt;, &lt;~, or {&mdash; is not matched
by a corresponding closing bracket before the end of the file or string
being interpreted
  <li>A closing string or procedure bracket &mdash;), &gt;, ~&gt;, or }&mdash; appears
for which there is no previous matching opening bracket. o A character other
than a hexadecimal digit or white space character appears within a hexadecimal
string literal bracketed by &lt;...&gt;.
  <li>An encoding violation occurs in an ASCII base-85 string literal bracketed
by &lt;~...~&gt;.
  <li>A binary token or binary object sequence has incorrect structure.
</ul>
Erroneous tokens, such as malformed numbers, do not produce a syntaxerror;
such tokens are instead treated as name objects (often producing an <a href="u.html#undefined">undefined</a>
error when executed).
Tokens that exceed implementation limits, such as names that are too long
or numbers whose values are too large, produce a <a href="l.html#limitcheck">limitcheck</a>.
<hr>
<a name="systemdict"></a>
<b>systemdict</b>
<pre>- systemdict dict</pre>
<p>
pushes the dictionary object systemdict on the operand stack . systemdict
is not an operator; it is a name in systemdict associated with the dictionary
object.
<p>
<b>Errors:</b> <a href="#stackoverflow">stackoverflow</a>
<p>
<b>See Also:</b> <a href="e.html#errordict">errordict</a>, <a href="gh.html#globaldict">globaldict</a>,
<a href="u.html#userdict">userdict</a>
<hr>
</body>
</html>
