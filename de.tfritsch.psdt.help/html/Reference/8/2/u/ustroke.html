<!DOCTYPE html>
<html>
<head>
<title>ustroke</title>
<link rel="stylesheet" type="text/css" href="../../../format.css" />
</head>
<body>
	<h3>
		ustroke <img src="../LL2.png" alt="[LEVEL 2]" align="middle" />
	</h3>
	<pre>       userpath <b>ustroke</b> -
userpath matrix <b>ustroke</b> -</pre>
	<p>
		interprets a user path definition (see Section <a
			href="../../../4/6.html">4.6, "User Paths"</a>) and strokes the
		resulting path as if by the <a href="../s/stroke.html">stroke</a>
		operator. The entire operation is effectively bracketed between <a
			href="../g/gsave.html">gsave</a> and <a href="../g/grestore.html">grestore</a>,
		so it has no lasting effect on the graphics state.
	</p>
	<p>The first form of the operator is equivalent to the following
		code:</p>
	<pre>
gsave
  newpath
  uappend
  stroke
grestore
</pre>
	<p>
		The second form concatenates <i>matrix</i> to the current
		transformation matrix after interpreting <i>userpath</i>, but before
		executing <a href="../s/stroke.html">stroke</a>. The resulting matrix
		affects the line width and the dash pattern, if any, but not the path
		itself. This form of <b>ustroke</b> is equivalent to the following
		code:
	</p>
	<pre>
gsave
  newpath
  exch uappend      % Interpret userpath
  concat           % Concat matrix to CTM
  stroke
grestore
</pre>
	<p>
		The main use of this second form is to compensate for variations in
		line width and dash pattern that occur if the CTM has been scaled by
		different amounts horizontally and vertically. This is accomplished by
		defining <i>matrix</i> to be the inverse of the unequal scaling
		transformation.
	</p>
	<p>
		<b>Errors:</b> <a href="../i/invalidaccess.html">invalidaccess</a>, <a
			href="../l/limitcheck.html">limitcheck</a>, <a
			href="../r/rangecheck.html">rangecheck</a>, <a
			href="../s/stackunderflow.html">stackunderflow</a>, <a
			href="../t/typecheck.html">typecheck</a>
	</p>
	<p>
		<b>See Also:</b> <a href="../s/stroke.html">stroke</a>, <a
			href="uappend.html">uappend</a>
	</p>
</body>
</html>
