<!DOCTYPE html>
<html>
<head>
<title>imagemask</title>
</head>
<body>
	<b>imagemask</b>
	<pre>width height polarity matrix datasrc <b>imagemask</b> -
                                dict <b>imagemask</b> -</pre>
	<p>is similar to the image operator. However, it treats the source
		image as a mask of 1-bit samples that are used to control where to
		apply paint with the current color and where not to apply any paint.</p>
	<p>In the first form of imagemask, the parameters are specified as
		separate operands. This is the only form Level 1 implementations
		support. In the second form, the parameters are contained as key-value
		pairs in an image dictionary. The second form is a Level 2 feature.
		The semantics of imagemask do not depend on which way the operands are
		specified.</p>
	<p>imagemask uses the width, height, matrix, and datasrc operands
		in precisely the same way image uses them. The polarity operand is a
		boolean that determines the polarity of the mask. It controls the
		sense of the mask only; it has no effect on the color of the pixels
		that are painted. If polarity is false, portions of the image
		corresponding to source sample values of 0 are painted, while those
		corresponding to sample values of 1 are left unchanged. If polarity is
		true, sample values of 1 are painted and sample values of 0 are left
		unchanged.</p>
	<p>In the second form of imagemask, the polarity is specified by
		means of the Decode entry in the image dictionary. Decode values of [0
		1] and [1 0] correspond to polarity values of false and true,
		respectively.</p>
	<p>In Level 1, datasrc must be a procedure. In Level 2, datasrc may
		be any data source &mdash;a procedure, string, or readable file object
		(including a filtered file).</p>
	<p>imagemask is most useful for painting characters represented as
		bitmaps. Such bitmaps represent masks through which a color is to be
		transferred; the bitmaps themselves do not have a color.</p>
	<p>
		<b>Example</b>
	</p>
	<pre>
54 112 translate                % Locate lower-left corner of square
120 120 scale                   % Scale 1 unit to 120 points
0 0 moveto                      % Fill square with background
0 1 lineto
1 1 lineto
1 0 lineto
closepath
.9 setgray                      % Set current color to gray
fill
0 setgray                       % Set current color to black
24 23                           % Dimensions of source mask
true                            % Set polarity to paint the 1 bits
[24 0 0 -23 0 23]               % Map unit square to mask
{&lt; 003B00 002700 002480 0E4940  % Define mask data
   114920 14B220 3CB650 75FE88
   17FF8C 175F14 1C07E2 3803C4
   703182 F8EDFC B2BBC2 BB6F84
   31BFC2 18EA3C 0E3E00 07FC00
   03F800 1E1800 1FF800&gt;}       % Mask data
imagemask
</pre>
	<p>
		<b>Errors:</b> <a href="../s/stackunderflow.html">stackunderflow</a>,
		<a href="../t/typecheck.html">typecheck</a>, <a
			href="../u/undefinedresult.html">undefinedresult</a>, <a
			href="../l/limitcheck.html">limitcheck</a>, <a
			href="invalidaccess.html">invalidaccess</a>, <a href="#ioerror">ioerror</a>
	</p>
	<p>
		<b>See Also:</b> <a href="image.html">image</a>, <a
			href="../c/colorimage.html">colorimage</a>
	</p>
</body>
</html>
