<!DOCTYPE html>
<html>
<head>
<title>resourcestatus</title>
</head>
<body>
	<h3>
		resourcestatus <img src="../LL2.png" alt="[LEVEL 2]" align="middle" />
	</h3>
	<pre>key category <b>resourcestatus</b> status size true  <i>(if resource exists)</i>
                            false             <i>(if not)</i>
	</pre>
	<p>
		returns status information about a named resource instance. <i>category</i>
		is a name object that identifies a resource category, such as <b>Font</b>.
		<i>key</i> is a name or string object that identifies the resource
		instance. (Names and strings are interchangeable; keys of other types
		are permitted but are not recommended.)
	</p>
	<p>
		If the named resource instance exists, either defined in VM or
		available from some external source, <b>resourcestatus</b> returns two
		integers and the value <i>true</i>; otherwise, it returns <i>false</i>.
		Unlike <a href="../f/findresource.html">findresource</a>, <b>resourcestatus</b>
		never loads a resource instance into VM.
	</p>
	<p>
		<i>status</i> is an integer with the following meanings:
	</p>
	<dl>
		<dt>0</dt>
		<dd>
			Defined in VM by an explicit <a href="../d/defineresource.html">defineresource</a>;
			not subject to automatic removal.
		</dd>
		<dt>1</dt>
		<dd>
			Defined in VM by a previous execution of <a
				href="../f/findresource.html">findresource</a>; subject to automatic
			removal.
		</dd>
		<dt>2</dt>
		<dd>Not currently defined in VM, but available from external
			storage.</dd>
	</dl>
	<p>
		<i>size</i> is an integer giving the estimated VM consumption of the
		resource instance in bytes. This information may not be available for
		certain resources; if the size is unknown, -1 is returned. Usually, <b>resourcestatus</b>
		can obtain the size of a status 1 or 2 resource (derived from the
		%%VMusage comment in the resource file), but it has no general way to
		determine the size of a status 0 resource. See Section <a
			href="../../../3/9/4.html">3.9.4, “Resources as Files,”</a> for an
		explanation of how the size is determined. A <i>size</i> value of 0 is
		returned for implicit resources, whose instances do not occupy VM.
	</p>
	<p>
		If the current VM allocation mode is local, <b>resourcestatus</b>
		considers both local and global resource definitions, in that order
		(see <a href="../d/defineresource.html">defineresource</a>). However,
		if the current VM allocation mode is global, only global resource
		definitions are visible to <b>resourcestatus</b>. Resource instances
		in external storage are visible without regard to the current VM
		allocation mode.
	</p>
	<p>
		If the specified resource category does not exist, an <a
			href="../u/undefined.html">undefined</a> error occurs
	</p>
	<p>
		<b>Errors:</b> <a href="../s/stackoverflow.html">stackoverflow</a>, <a
			href="../s/stackunderflow.html">stackunderflow</a>, <a
			href="../t/typecheck.html">typecheck</a>, <a
			href="../u/undefined.html">undefined</a>
	</p>
	<p>
		<b>See Also:</b> <a href="../d/defineresource.html">defineresource</a>,
		<a href="../u/undefineresource.html">undefineresource</a>, <a
			href="../f/findresource.html">findresource</a>, <a
			href="resourceforall.html">resourceforall</a>
	</p>
</body>
</html>
