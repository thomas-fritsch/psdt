<!DOCTYPE html>
<html>
<head>
<title>Creating Resource Categories</title>
<link rel="stylesheet" type="text/css" href="../../format.css" />
</head>
<body>
	<h3>3.9.3 Creating Resource Categories</h3>
	<p>The language support for named resources is quite general. Most
		of it is independent of the semantics of specific resource categories.
		It is occasionally useful to create new resource categories, each
		containing an independent collection of named instances. This is
		accomplished through a level of recursion in the resource machinery
		itself.</p>
	<p>
		The resource category named <b>Category</b> contains all of the
		resource categories as instances. The instance names are resource
		category names, such as <b>Font</b>, <b>Form</b>, and <b>Halftone</b>.
		The instance values are dictionary objects containing information
		about how the corresponding resource category is implemented.
	</p>
	<p>
		A new resource category is created by defining a new instance of the <b>Category</b>
		category. Example 3.6 creates a category named <b>Widget</b>.
	</p>
	<p>
		<b>Example 3.6</b>
	</p>
	<pre>
true setglobal
  /Widget catdict /Category defineresource pop
false setglobal</pre>
	<p>
		In this example, <i>catdict</i> is a dictionary describing the
		implementation of the Widget category. Once it is defined, instances
		of the Widget category can be manipulated like other categories:
	</p>
	<pre>
/Frob1 w /Widget defineresource          % Returns w
/Frob1 /Widget findresource              % Returns w
/Frob1 /Widget resourcestatus            % Returns status size true
(*) proc scratch /Widget resourceforall  % Pushes (Frob1) on the stack, then calls proc</pre>
	<p>Here w is an instance of the Widget category whose type is
		whatever is appropriate for widgets, and /Frob1 is the name of that
		instance.</p>
	<p>It is possible to redefine existing resource categories in this
		way. Programs that do this must ensure that the new definition
		correctly implements any special semantics of the category.</p>
</body>
</html>